{
	"transformation":{
		"info":{
			"name":"move_earlier_processed_files",
			"description":null,
			"extended_description":null,
			"trans_version":null,
			"trans_type":"Normal",
			"trans_status":"0",
			"directory":"/",
			"parameters":{"parameter":[
					{
						"name":"directory_name",
						"default_value":null,
						"description":null
					},
					{
						"name":"directory_path",
						"default_value":null,
						"description":null
					},
					{
						"name":"source_file_name",
						"default_value":null,
						"description":null
					}
				]},
			"log":{
				"trans-log-table":{
					"connection":null,
					"schema":null,
					"table":null,
					"size_limit_lines":null,
					"interval":null,
					"timeout_days":null,
					"field":[
						{
							"id":"ID_BATCH",
							"enabled":"Y",
							"name":"ID_BATCH"
						},
						{
							"id":"CHANNEL_ID",
							"enabled":"Y",
							"name":"CHANNEL_ID"
						},
						{
							"id":"TRANSNAME",
							"enabled":"Y",
							"name":"TRANSNAME"
						},
						{
							"id":"STATUS",
							"enabled":"Y",
							"name":"STATUS"
						},
						{
							"id":"LINES_READ",
							"enabled":"Y",
							"name":"LINES_READ",
							"subject":null
						},
						{
							"id":"LINES_WRITTEN",
							"enabled":"Y",
							"name":"LINES_WRITTEN",
							"subject":null
						},
						{
							"id":"LINES_UPDATED",
							"enabled":"Y",
							"name":"LINES_UPDATED",
							"subject":null
						},
						{
							"id":"LINES_INPUT",
							"enabled":"Y",
							"name":"LINES_INPUT",
							"subject":null
						},
						{
							"id":"LINES_OUTPUT",
							"enabled":"Y",
							"name":"LINES_OUTPUT",
							"subject":null
						},
						{
							"id":"LINES_REJECTED",
							"enabled":"Y",
							"name":"LINES_REJECTED",
							"subject":null
						},
						{
							"id":"ERRORS",
							"enabled":"Y",
							"name":"ERRORS"
						},
						{
							"id":"STARTDATE",
							"enabled":"Y",
							"name":"STARTDATE"
						},
						{
							"id":"ENDDATE",
							"enabled":"Y",
							"name":"ENDDATE"
						},
						{
							"id":"LOGDATE",
							"enabled":"Y",
							"name":"LOGDATE"
						},
						{
							"id":"DEPDATE",
							"enabled":"Y",
							"name":"DEPDATE"
						},
						{
							"id":"REPLAYDATE",
							"enabled":"Y",
							"name":"REPLAYDATE"
						},
						{
							"id":"LOG_FIELD",
							"enabled":"Y",
							"name":"LOG_FIELD"
						},
						{
							"id":"EXECUTING_SERVER",
							"enabled":"N",
							"name":"EXECUTING_SERVER"
						},
						{
							"id":"EXECUTING_USER",
							"enabled":"N",
							"name":"EXECUTING_USER"
						},
						{
							"id":"CLIENT",
							"enabled":"N",
							"name":"CLIENT"
						}
					]
				},
				"perf-log-table":{
					"connection":null,
					"schema":null,
					"table":null,
					"interval":null,
					"timeout_days":null,
					"field":[
						{
							"id":"ID_BATCH",
							"enabled":"Y",
							"name":"ID_BATCH"
						},
						{
							"id":"SEQ_NR",
							"enabled":"Y",
							"name":"SEQ_NR"
						},
						{
							"id":"LOGDATE",
							"enabled":"Y",
							"name":"LOGDATE"
						},
						{
							"id":"TRANSNAME",
							"enabled":"Y",
							"name":"TRANSNAME"
						},
						{
							"id":"STEPNAME",
							"enabled":"Y",
							"name":"STEPNAME"
						},
						{
							"id":"STEP_COPY",
							"enabled":"Y",
							"name":"STEP_COPY"
						},
						{
							"id":"LINES_READ",
							"enabled":"Y",
							"name":"LINES_READ"
						},
						{
							"id":"LINES_WRITTEN",
							"enabled":"Y",
							"name":"LINES_WRITTEN"
						},
						{
							"id":"LINES_UPDATED",
							"enabled":"Y",
							"name":"LINES_UPDATED"
						},
						{
							"id":"LINES_INPUT",
							"enabled":"Y",
							"name":"LINES_INPUT"
						},
						{
							"id":"LINES_OUTPUT",
							"enabled":"Y",
							"name":"LINES_OUTPUT"
						},
						{
							"id":"LINES_REJECTED",
							"enabled":"Y",
							"name":"LINES_REJECTED"
						},
						{
							"id":"ERRORS",
							"enabled":"Y",
							"name":"ERRORS"
						},
						{
							"id":"INPUT_BUFFER_ROWS",
							"enabled":"Y",
							"name":"INPUT_BUFFER_ROWS"
						},
						{
							"id":"OUTPUT_BUFFER_ROWS",
							"enabled":"Y",
							"name":"OUTPUT_BUFFER_ROWS"
						}
					]
				},
				"channel-log-table":{
					"connection":null,
					"schema":null,
					"table":null,
					"timeout_days":null,
					"field":[
						{
							"id":"ID_BATCH",
							"enabled":"Y",
							"name":"ID_BATCH"
						},
						{
							"id":"CHANNEL_ID",
							"enabled":"Y",
							"name":"CHANNEL_ID"
						},
						{
							"id":"LOG_DATE",
							"enabled":"Y",
							"name":"LOG_DATE"
						},
						{
							"id":"LOGGING_OBJECT_TYPE",
							"enabled":"Y",
							"name":"LOGGING_OBJECT_TYPE"
						},
						{
							"id":"OBJECT_NAME",
							"enabled":"Y",
							"name":"OBJECT_NAME"
						},
						{
							"id":"OBJECT_COPY",
							"enabled":"Y",
							"name":"OBJECT_COPY"
						},
						{
							"id":"REPOSITORY_DIRECTORY",
							"enabled":"Y",
							"name":"REPOSITORY_DIRECTORY"
						},
						{
							"id":"FILENAME",
							"enabled":"Y",
							"name":"FILENAME"
						},
						{
							"id":"OBJECT_ID",
							"enabled":"Y",
							"name":"OBJECT_ID"
						},
						{
							"id":"OBJECT_REVISION",
							"enabled":"Y",
							"name":"OBJECT_REVISION"
						},
						{
							"id":"PARENT_CHANNEL_ID",
							"enabled":"Y",
							"name":"PARENT_CHANNEL_ID"
						},
						{
							"id":"ROOT_CHANNEL_ID",
							"enabled":"Y",
							"name":"ROOT_CHANNEL_ID"
						}
					]
				},
				"step-log-table":{
					"connection":null,
					"schema":null,
					"table":null,
					"timeout_days":null,
					"field":[
						{
							"id":"ID_BATCH",
							"enabled":"Y",
							"name":"ID_BATCH"
						},
						{
							"id":"CHANNEL_ID",
							"enabled":"Y",
							"name":"CHANNEL_ID"
						},
						{
							"id":"LOG_DATE",
							"enabled":"Y",
							"name":"LOG_DATE"
						},
						{
							"id":"TRANSNAME",
							"enabled":"Y",
							"name":"TRANSNAME"
						},
						{
							"id":"STEPNAME",
							"enabled":"Y",
							"name":"STEPNAME"
						},
						{
							"id":"STEP_COPY",
							"enabled":"Y",
							"name":"STEP_COPY"
						},
						{
							"id":"LINES_READ",
							"enabled":"Y",
							"name":"LINES_READ"
						},
						{
							"id":"LINES_WRITTEN",
							"enabled":"Y",
							"name":"LINES_WRITTEN"
						},
						{
							"id":"LINES_UPDATED",
							"enabled":"Y",
							"name":"LINES_UPDATED"
						},
						{
							"id":"LINES_INPUT",
							"enabled":"Y",
							"name":"LINES_INPUT"
						},
						{
							"id":"LINES_OUTPUT",
							"enabled":"Y",
							"name":"LINES_OUTPUT"
						},
						{
							"id":"LINES_REJECTED",
							"enabled":"Y",
							"name":"LINES_REJECTED"
						},
						{
							"id":"ERRORS",
							"enabled":"Y",
							"name":"ERRORS"
						},
						{
							"id":"LOG_FIELD",
							"enabled":"N",
							"name":"LOG_FIELD"
						}
					]
				},
				"metrics-log-table":{
					"connection":null,
					"schema":null,
					"table":null,
					"timeout_days":null,
					"field":[
						{
							"id":"ID_BATCH",
							"enabled":"Y",
							"name":"ID_BATCH"
						},
						{
							"id":"CHANNEL_ID",
							"enabled":"Y",
							"name":"CHANNEL_ID"
						},
						{
							"id":"LOG_DATE",
							"enabled":"Y",
							"name":"LOG_DATE"
						},
						{
							"id":"METRICS_DATE",
							"enabled":"Y",
							"name":"METRICS_DATE"
						},
						{
							"id":"METRICS_CODE",
							"enabled":"Y",
							"name":"METRICS_CODE"
						},
						{
							"id":"METRICS_DESCRIPTION",
							"enabled":"Y",
							"name":"METRICS_DESCRIPTION"
						},
						{
							"id":"METRICS_SUBJECT",
							"enabled":"Y",
							"name":"METRICS_SUBJECT"
						},
						{
							"id":"METRICS_TYPE",
							"enabled":"Y",
							"name":"METRICS_TYPE"
						},
						{
							"id":"METRICS_VALUE",
							"enabled":"Y",
							"name":"METRICS_VALUE"
						}
					]
				}
			},
			"maxdate":{
				"connection":null,
				"table":null,
				"field":null,
				"offset":"0.0",
				"maxdiff":"0.0"
			},
			"size_rowset":"10000",
			"sleep_time_empty":"50",
			"sleep_time_full":"50",
			"unique_connections":"N",
			"feedback_shown":"Y",
			"feedback_size":"50000",
			"using_thread_priorities":"Y",
			"shared_objects_file":null,
			"capture_step_performance":"N",
			"step_performance_capturing_delay":"1000",
			"step_performance_capturing_size_limit":"100",
			"dependencies":null,
			"partitionschemas":null,
			"slaveservers":null,
			"clusterschemas":null,
			"created_user":"-",
			"created_date":"2017/11/10 14:18:50.642",
			"modified_user":"-",
			"modified_date":"2017/11/10 14:18:50.642",
			"key_for_session_key":"H4sIAAAAAAAAAAMAAAAAAAAAAAA=",
			"is_key_private":"N"
		},
		"notepads":null,
		"order":{"hop":[
				{
					"from":"Get Archive File Names",
					"to":"Select values 2",
					"enabled":"Y"
				},
				{
					"from":"Get Source File Names",
					"to":"Modified Java Script Value",
					"enabled":"Y"
				},
				{
					"from":"Modified Java Script Value",
					"to":"Sort source rows",
					"enabled":"Y"
				},
				{
					"from":"Select values 2",
					"to":"Sort archive rows",
					"enabled":"Y"
				},
				{
					"from":"Sort source rows",
					"to":"Merge Join",
					"enabled":"Y"
				},
				{
					"from":"Sort archive rows",
					"to":"Merge Join",
					"enabled":"Y"
				},
				{
					"from":"Merge Join",
					"to":"Process files",
					"enabled":"Y"
				}
			]},
		"step":[
			{
				"name":"Get Archive File Names",
				"type":"GetFileNames",
				"description":null,
				"distribute":"Y",
				"custom_distribution":null,
				"copies":"1",
				"partitioning":{
					"method":"none",
					"schema_name":null
				},
				"filter":{"filterfiletype":"all_files"},
				"doNotFailIfNoFile":"N",
				"rownum":"N",
				"isaddresult":"N",
				"filefield":"N",
				"rownum_field":null,
				"filename_Field":null,
				"wildcard_Field":null,
				"exclude_wildcard_Field":null,
				"dynamic_include_subfolders":"N",
				"limit":"0",
				"file":{
					"name":"${mdb.archive.path}/${directory_path}",
					"filemask":"${source_file_name}.*\\.*",
					"exclude_filemask":null,
					"file_required":"N",
					"include_subfolders":"N"
				},
				"cluster_schema":null,
				"remotesteps":{
					"input":null,
					"output":null
				},
				"GUI":{
					"xloc":"192",
					"yloc":"176",
					"draw":"Y"
				}
			},
			{
				"name":"Get Source File Names",
				"type":"GetFileNames",
				"description":null,
				"distribute":"Y",
				"custom_distribution":null,
				"copies":"1",
				"partitioning":{
					"method":"none",
					"schema_name":null
				},
				"filter":{"filterfiletype":"all_files"},
				"doNotFailIfNoFile":"N",
				"rownum":"N",
				"isaddresult":"N",
				"filefield":"N",
				"rownum_field":null,
				"filename_Field":null,
				"wildcard_Field":null,
				"exclude_wildcard_Field":null,
				"dynamic_include_subfolders":"N",
				"limit":"0",
				"file":{
					"name":"${mdb.input.path}/${directory_name}",
					"filemask":"${source_file_name}.*\\.*",
					"exclude_filemask":null,
					"file_required":"N",
					"include_subfolders":"N"
				},
				"cluster_schema":null,
				"remotesteps":{
					"input":null,
					"output":null
				},
				"GUI":{
					"xloc":"192",
					"yloc":"64",
					"draw":"Y"
				}
			},
			{
				"name":"Merge Join",
				"type":"MergeJoin",
				"description":null,
				"distribute":"Y",
				"custom_distribution":null,
				"copies":"1",
				"partitioning":{
					"method":"none",
					"schema_name":null
				},
				"join_type":"INNER",
				"step1":"Sort source rows",
				"step2":"Sort archive rows",
				"keys_1":{"key":"updated_short_filename"},
				"keys_2":{"key":"archive_filename"},
				"cluster_schema":null,
				"remotesteps":{
					"input":null,
					"output":null
				},
				"GUI":{
					"xloc":"608",
					"yloc":"128",
					"draw":"Y"
				}
			},
			{
				"name":"Modified Java Script Value",
				"type":"ScriptValueMod",
				"description":null,
				"distribute":"Y",
				"custom_distribution":null,
				"copies":"1",
				"partitioning":{
					"method":"none",
					"schema_name":null
				},
				"compatible":"N",
				"optimizationLevel":"9",
				"jsScripts":{"jsScript":{
						"jsScript_type":"0",
						"jsScript_name":"Script 1",
						"jsScript_script":"var target_path = getVariable('mdb.archive.path','');\n\nvar updated_short_filename = short_filename + '.done';\n\nvar new_filename =  target_path + '/' + getVariable('directory_path','') +'/' + updated_short_filename;\n\n\n\n                "
					}},
				"fields":{"field":[
						{
							"name":"new_filename",
							"rename":"new_filename",
							"type":"String",
							"length":"-1",
							"precision":"-1",
							"replace":"N"
						},
						{
							"name":"updated_short_filename",
							"rename":"updated_short_filename",
							"type":"String",
							"length":"-1",
							"precision":"-1",
							"replace":"N"
						}
					]},
				"cluster_schema":null,
				"remotesteps":{
					"input":null,
					"output":null
				},
				"GUI":{
					"xloc":"336",
					"yloc":"64",
					"draw":"Y"
				}
			},
			{
				"name":"Process files",
				"type":"ProcessFiles",
				"description":null,
				"distribute":"Y",
				"custom_distribution":null,
				"copies":"1",
				"partitioning":{
					"method":"none",
					"schema_name":null
				},
				"sourcefilenamefield":"filename",
				"targetfilenamefield":"new_filename",
				"operation_type":"move",
				"addresultfilenames":"N",
				"overwritetargetfile":"Y",
				"createparentfolder":"Y",
				"simulate":"N",
				"cluster_schema":null,
				"remotesteps":{
					"input":null,
					"output":null
				},
				"GUI":{
					"xloc":"768",
					"yloc":"128",
					"draw":"Y"
				}
			},
			{
				"name":"Select values 2",
				"type":"SelectValues",
				"description":null,
				"distribute":"Y",
				"custom_distribution":null,
				"copies":"1",
				"partitioning":{
					"method":"none",
					"schema_name":null
				},
				"fields":{
					"field":{
						"name":"short_filename",
						"rename":"archive_filename"
					},
					"select_unspecified":"N"
				},
				"cluster_schema":null,
				"remotesteps":{
					"input":null,
					"output":null
				},
				"GUI":{
					"xloc":"336",
					"yloc":"176",
					"draw":"Y"
				}
			},
			{
				"name":"Sort archive rows",
				"type":"SortRows",
				"description":null,
				"distribute":"Y",
				"custom_distribution":null,
				"copies":"1",
				"partitioning":{
					"method":"none",
					"schema_name":null
				},
				"directory":"%%java.io.tmpdir%%",
				"prefix":"out",
				"sort_size":"1000000",
				"free_memory":null,
				"compress":"N",
				"compress_variable":null,
				"unique_rows":"N",
				"fields":{"field":{
						"name":"archive_filename",
						"ascending":"Y",
						"case_sensitive":"N",
						"collator_enabled":"N",
						"collator_strength":"0",
						"presorted":"N"
					}},
				"cluster_schema":null,
				"remotesteps":{
					"input":null,
					"output":null
				},
				"GUI":{
					"xloc":"464",
					"yloc":"176",
					"draw":"Y"
				}
			},
			{
				"name":"Sort source rows",
				"type":"SortRows",
				"description":null,
				"distribute":"Y",
				"custom_distribution":null,
				"copies":"1",
				"partitioning":{
					"method":"none",
					"schema_name":null
				},
				"directory":"%%java.io.tmpdir%%",
				"prefix":"out",
				"sort_size":"1000000",
				"free_memory":null,
				"compress":"N",
				"compress_variable":null,
				"unique_rows":"N",
				"fields":{"field":{
						"name":"updated_short_filename",
						"ascending":"Y",
						"case_sensitive":"N",
						"collator_enabled":"N",
						"collator_strength":"0",
						"presorted":"N"
					}},
				"cluster_schema":null,
				"remotesteps":{
					"input":null,
					"output":null
				},
				"GUI":{
					"xloc":"464",
					"yloc":"64",
					"draw":"Y"
				}
			}
		],
		"step_error_handling":null,
		"slave-step-copy-partition-distribution":null,
		"slave_transformation":"N"
	}
}